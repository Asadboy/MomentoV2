#!/bin/bash
# Script to create GitHub repository and push code

set -e

REPO_NAME="Momento"
CURRENT_DIR=$(pwd)

echo "?? Setting up GitHub repository for $REPO_NAME"
echo "================================================"
echo ""

# Check if we're in a git repo
if [ ! -d .git ]; then
    echo "? Error: Not in a git repository"
    exit 1
fi

# Check if remote already exists
if git remote get-url origin &>/dev/null; then
    echo "??  Remote 'origin' already exists:"
    git remote get-url origin
    echo ""
    read -p "Push to existing remote? (y/n) " -n 1 -r
    echo ""
    if [[ $REPLY =~ ^[Yy]$ ]]; then
        echo "?? Pushing to remote..."
        git push -u origin main
        echo "? Done!"
        exit 0
    fi
fi

echo "To create the repository on GitHub, please follow these steps:"
echo ""
echo "????????????????????????????????????????????????????????????????????????????????"
echo "STEP 1: Create repository on GitHub"
echo "????????????????????????????????????????????????????????????????????????????????"
echo ""
echo "  Option A - Via Website (Easiest):"
echo "    1. Go to: https://github.com/new"
echo "    2. Repository name: $REPO_NAME"
echo "    3. Choose Private or Public"
echo "    4. ??  DO NOT check 'Add a README file'"
echo "    5. ??  DO NOT add .gitignore or license"
echo "    6. Click 'Create repository'"
echo ""
echo "  Option B - Via GitHub CLI (if installed):"
echo "    Run: gh repo create $REPO_NAME --private --source=. --remote=origin --push"
echo ""
echo "????????????????????????????????????????????????????????????????????????????????"
echo "STEP 2: After creating the repo, run these commands:"
echo "????????????????????????????????????????????????????????????????????????????????"
echo ""
echo "  git remote add origin https://github.com/YOUR_USERNAME/$REPO_NAME.git"
echo "  git push -u origin main"
echo ""
echo "Or if you prefer SSH:"
echo "  git remote add origin git@github.com:YOUR_USERNAME/$REPO_NAME.git"
echo "  git push -u origin main"
echo ""
echo "????????????????????????????????????????????????????????????????????????????????"
echo ""
echo "?? Quick tip: Replace YOUR_USERNAME with your actual GitHub username"
echo ""
